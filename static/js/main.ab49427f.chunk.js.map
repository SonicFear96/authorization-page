{"version":3,"sources":["pages/SignInPage.jsx","pages/ProfilePage.jsx","components/header.jsx","App.js","index.js"],"names":["SignInPage","history","useHistory","useState","username","password","authData","setAuthData","handleChange","e","prev","target","name","value","Container","component","maxWidth","style","marginTop","CssBaseline","Typography","variant","noValidate","TextField","margin","required","fullWidth","id","label","onChange","type","autoComplete","Button","color","onClick","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","data","token","localStorage","setItem","push","alert","ProfilePage","setData","order","setOrder","orderBy","setOrderBy","useEffect","getItem","console","log","Authorization","rows","map","el","firstName","first_name","lastName","last_name","userName","handleRequestSort","event","property","descendingComparator","a","b","className","Paper","TableContainer","Table","aria-labelledby","size","aria-label","TableHead","TableRow","headCell","TableCell","align","sortDirection","TableSortLabel","active","direction","TableBody","array","comparator","stabilizedThis","index","sort","stableSort","getComparator","row","hover","role","tabIndex","scope","Header","AppBar","position","Toolbar","display","noWrap","PrivateRoute","children","rest","auth","render","location","to","App","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ab49427f.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const SignInPage = () => {\r\n  let history = useHistory();\r\n  const [authData, setAuthData] = useState({ username: \"\", password: \"\" });\r\n\r\n  const handleChange = (e) => {\r\n    setAuthData((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    fetch(\"http://emphasoft-test-assignment.herokuapp.com/api-token-auth/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(authData),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.token) {\r\n          localStorage.setItem(\"token\", data.token);\r\n          history.push(\"/profile\");\r\n        } else {\r\n          alert(\"Неправильно введены данные!\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" style={{ marginTop: 100 }}>\r\n      <CssBaseline />\r\n      <div>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Авторизация\r\n        </Typography>\r\n        <form noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Логин\"\r\n            name=\"username\"\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Пароль\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            name=\"password\"\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleSubmit}\r\n          >\r\n            Войти\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Paper } from \"@material-ui/core\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\n\r\nexport const ProfilePage = () => {\r\n  const [data, setData] = useState([]);\r\n  const [order, setOrder] = useState(\"asc\");\r\n  const [orderBy, setOrderBy] = useState(\"id\");\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    console.log(token);\r\n    fetch(\"http://emphasoft-test-assignment.herokuapp.com/api/v1/users/\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: `Token ${token}`,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setData(res);\r\n      });\r\n  }, []);\r\n\r\n  function createData(id, firstName, lastName, userName) {\r\n    return { id, firstName, lastName, userName };\r\n  }\r\n\r\n  const rows = data.map((el) => {\r\n    return createData(el.id, el.first_name, el.last_name, el.username);\r\n  });\r\n\r\n  const headCells = [\r\n    { id: \"id\", label: \"ID\" },\r\n    { id: \"firstName\", label: \"First Name\" },\r\n    { id: \"lastName\", label: \"Last Name\" },\r\n    { id: \"userName\", label: \"User Name\" },\r\n  ];\r\n\r\n  const createSortHandler = (property) => (event) => {\r\n    console.log(property);\r\n    handleRequestSort(event, property);\r\n  };\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n\r\n  function getComparator(order, orderBy) {\r\n    return order === \"desc\"\r\n      ? (a, b) => descendingComparator(a, b, orderBy)\r\n      : (a, b) => -descendingComparator(a, b, orderBy);\r\n  }\r\n\r\n  function descendingComparator(a, b, orderBy) {\r\n    if (b[orderBy] < a[orderBy]) {\r\n      return -1;\r\n    }\r\n    if (b[orderBy] > a[orderBy]) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function stableSort(array, comparator) {\r\n    const stabilizedThis = array.map((el, index) => [el, index]);\r\n    stabilizedThis.sort((a, b) => {\r\n      const order = comparator(a[0], b[0]);\r\n      if (order !== 0) return order;\r\n      return a[1] - b[1];\r\n    });\r\n    return stabilizedThis.map((el) => el[0]);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-table\">\r\n        <Paper>\r\n          <TableContainer style={{ marginTop: 100 }}>\r\n            <Table\r\n              aria-labelledby=\"tableTitle\"\r\n              size={\"medium\"}\r\n              aria-label=\"enhanced table\"\r\n            >\r\n              <TableHead>\r\n                <TableRow>\r\n                  {headCells.map((headCell) => (\r\n                    <TableCell\r\n                      key={headCell.id}\r\n                      align={\"right\"}\r\n                      sortDirection={orderBy === headCell.id ? order : false}\r\n                    >\r\n                      <TableSortLabel\r\n                        active={orderBy === headCell.id}\r\n                        direction={orderBy === headCell.id ? order : \"asc\"}\r\n                        onClick={createSortHandler(headCell.id)}\r\n                      >\r\n                        {headCell.label}\r\n                      </TableSortLabel>\r\n                    </TableCell>\r\n                  ))}\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              {/* table body */}\r\n              <TableBody>\r\n                {stableSort(rows, getComparator(order, orderBy)).map(\r\n                  (row, index) => {\r\n                    return (\r\n                      <TableRow\r\n                        hover\r\n                        role=\"checkbox\"\r\n                        tabIndex={-1}\r\n                        key={row.id}\r\n                      >\r\n                        <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n                          {row.id}\r\n                        </TableCell>\r\n                        <TableCell align=\"right\">{row.firstName}</TableCell>\r\n                        <TableCell align=\"right\">{row.lastName}</TableCell>\r\n                        <TableCell align=\"right\">{row.userName}</TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  }\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </Paper>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import { AppBar } from \"@material-ui/core\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\n\r\nexport const Header = () => {\r\n  return (\r\n    <>\r\n      <AppBar position=\"static\">\r\n        <Toolbar\r\n          display=\"flex\"\r\n          //flexDirection=\"row\"\r\n          // justifyContent=\"space-between\"\r\n        >\r\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n            Project\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </>\r\n  );\r\n};\r\n","import { SignInPage } from \"./pages/SignInPage.jsx\";\r\nimport { ProfilePage } from \"./pages/ProfilePage.jsx\";\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { Header } from \"./components/header\";\r\n\r\nfunction PrivateRoute({ children, ...rest }) {\r\n  let auth = localStorage.getItem(\"token\");\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) => (auth ? children : <Redirect to=\"/\" />)}\r\n    />\r\n  );\r\n}\r\n\r\nexport const App = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Header />\r\n      <Switch>\r\n        <PrivateRoute exact path=\"/profile\">\r\n          <ProfilePage />\r\n        </PrivateRoute>\r\n\r\n        <Route exact path=\"/\">\r\n          <SignInPage />\r\n        </Route>\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { App } from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}